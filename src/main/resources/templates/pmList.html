<!doctype html>
<html lang="en" class="semi-dark" dir="rtl" xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!--plugins-->
  <link href="/panel/assets/plugins/simplebar/css/simplebar.css" rel="stylesheet" />
  <link href="/panel/assets/plugins/perfect-scrollbar/css/perfect-scrollbar.css" rel="stylesheet" />
  <link href="/panel/assets/plugins/metismenu/css/metisMenu.min.css" rel="stylesheet" />
  <link href="/panel/assets/plugins/datatable/css/dataTables.bootstrap5.min.css" rel="stylesheet" />
  <!-- Bootstrap CSS -->
  <link href="/panel/assets/css/bootstrap.min.css" rel="stylesheet" />
  <link href="/panel/assets/css/bootstrap-extended.css" rel="stylesheet" />
  <link href="/panel/assets/css/style.css" rel="stylesheet" />
  <link href="/panel/assets/css/icons.css" rel="stylesheet">
    <link href="/panel/assets/css/roboto.css" rel="stylesheet">
    <link href="/panel/assets/css/bootstrap-icons.css" rel="stylesheet">

  <!-- loader-->
	<link href="/panel/assets/css/pace.min.css" rel="stylesheet" />


  <!--Theme Styles-->
  <link href="/panel/assets/css/dark-theme.css" rel="stylesheet" />
  <link href="/panel/assets/css/light-theme.css" rel="stylesheet" />
  <link href="/panel/assets/css/semi-dark.css" rel="stylesheet" />
  <link href="/panel/assets/css/header-colors.css" rel="stylesheet" />

  <title>Snacked - Bootstrap 5 Admin Template</title>
</head>

<body>


  <!--start wrapper-->
  <div class="wrapper">
    <!--start top header-->
      <header th:replace="base :: header"></header>
       <!--end top header-->

       <!--start sidebar -->
      <aside class="sidebar-wrapper" data-simplebar="true" th:replace="base :: sidebar"></aside>
       <!--end sidebar -->

       <!--start content-->
       <main class="page-content">
				<!--breadcrumb-->
				<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
					<div class="breadcrumb-title pe-3">جداول</div>
					<div class="ps-3">
						<nav aria-label="breadcrumb">
							<ol class="breadcrumb mb-0 p-0">
								<li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a>
								</li>
								<li class="breadcrumb-item active" aria-current="page">لیست وظایف</li>
							</ol>
						</nav>
					</div>
					<div class="ms-auto">
						<div class="btn-group">
							<button type="button" class="btn btn-primary">تنظیمات</button>
							<button type="button" class="btn btn-primary split-bg-primary dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown">	<span class="visually-hidden">کشویی را تغییر دهید</span>
							</button>
							<div class="dropdown-menu dropdown-menu-right dropdown-menu-lg-end">	<a class="dropdown-item" href="javascript:;">عمل</a>
								<a class="dropdown-item" href="javascript:;">یک اقدام دیگر</a>
								<a class="dropdown-item" href="javascript:;">یه چیز دیگه اینجا</a>
								<div class="dropdown-divider"></div>	<a class="dropdown-item" href="javascript:;">لینک جدا شده</a>
							</div>
						</div>
					</div>
				</div>
				<!--end breadcrumb-->

		   <h6 class="mb-0 text-uppercase">وارد کردن DataTable</h6>
		   <div class="card">

					<div class="card-body">
						<div class="col" dir="ltr">
							<button type="button" class="btn btn-primary px-5" data-bs-toggle="tooltip" data-bs-placement="top" title="Tooltip on top" dir="auto">ثبت وظیفه جدید</button>
						</div>
						<div class="table-responsive">
							<table id="example2" class="table table-striped table-bordered">
								<thead>
								<tr>
									<th>ردیف</th>
									<th>عنوان</th>
									<th>وضعیت</th>
									<th>تاریخ آخرین اقدام</th>
									<th>دوره تکرار(روز)</th>
									<th>سررسید بعدی</th>
									<th>عملیات</th>

								</tr>
								</thead>
								<tbody>

								<tr th:each="status, iter : ${statusList}">

									<td th:text="${iter.count}"/>
									<td>
										<div class="col">
											<button type="button" class="btn btn-secondary" data-bs-container="body" data-bs-toggle="popover" data-bs-placement="top" data-bs-content=th:text="${status.period}" th:text="${status.name}"></button>
										</div>
									</td>

									<td>
										<div th:if="${status.isActive}" class="col">
											<!-- Button trigger modal -->
											<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#examplePrimaryModal" disabled="disabled">فعال</button>
											<!-- Modal -->
											<div class="modal fade" id="examplePrimaryModal" tabindex="-1" aria-hidden="true">
												<div class="modal-dialog modal-lg modal-dialog-centered">
													<div class="modal-content bg-primary">
														<div class="modal-header">
															<h5 class="modal-title text-white">جزئیات</h5>
															<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
														</div>
														<div class="modal-body text-white">
															<p>Cras mattis consectetur purus sit amet fermentum. </p>
															<p>commodo cursus magna، vel scelerisque nisl consectetur et. </p>
															<p>Aenean lacinia bibendum nulla sed consectetur. </p>
															<p>Cras mattis consectetur purus sit amet fermentum. </p>
														</div>
														<div class="modal-footer">
															<button type="button" class="btn btn-light" data-bs-dismiss="modal">بستن</button>
															<button type="button" class="btn btn-dark">ذخیره تغییرات</button>
														</div>
													</div>
												</div>
											</div>
										</div>
										<span th:if="${not status.isActive} and ${status.period == 0}" class="badge bg-light-success text-success w-100">آرشیو</span>
										<span th:if="${not status.isActive} and ${status.period > 0}" class="badge bg-light-success text-success w-100">منتظر سررسید</span>
									</td>
									<td>
										<span th:if="${status.lastSuccessfulPersian == null}" class="badge bg-light-warning text-warning w-500">اقدام نشده</span>
										<span th:if="${status.lastSuccessfulPersian != null}" th:text="${status.lastSuccessfulPersian}" class="badge bg-light-success text-success w-100"></span>
									</td>
									<td>
										<span  th:if="${status.period == 0}" class="badge rounded-pill bg-light text-dark">بدون تکرار</span>
										<span  th:if="${status.period > 0}" th:text="${status.period}" class="badge rounded-pill bg-secondary"></span>
									</td>
									<td>
										<span  th:if="${status.period == 0}" class="badge bg-light-success text-success w-100">ندارد</span>
										<span  th:if="${status.period > 0}" th:text="${status.getNextDuePersian}" class="badge rounded-pill bg-info text-dark"></span>

									</td>
									<td>
										<div class="table-actions d-flex align-items-center gap-3 fs-6">
											<a th:href="@{/pm(id=${status.id})}" class="text-primary" data-bs-toggle="tooltip" data-bs-placement="bottom" title="تاریخچه"><i class="bi bi-eye-fill"></i></a>
											<a href="javascript:;" class="text-warning" data-bs-toggle="tooltip" data-bs-placement="bottom" title="ویرایش"><i class="bi bi-pencil-fill"></i></a>
										</div>
									</td>

								</tr>
								</tbody>
								<tfoot>
								</tfoot>
							</table>
						</div>
					</div>
				</div>
			</main>
       <!--end page main-->


       <!--start overlay-->
        <div class="overlay nav-toggle-icon"></div>
       <!--end overlay-->

        <!--Start Back To Top Button-->
        <a href="javaScript:;" class="back-to-top"><i class='bx bxs-up-arrow-alt'></i></a>
        <!--End Back To Top Button-->
        
        <!--start switcher-->
      <div class="switcher-body" th:replace="base :: switcher"></div>
       <!--end switcher-->

  </div>
  <!--end wrapper-->


  <!-- Bootstrap bundle JS -->
  <script src="/panel/assets/js/bootstrap.bundle.min.js"></script>
  <!--plugins-->
  <script src="/panel/assets/js/jquery.min.js"></script>
  <script src="/panel/assets/plugins/simplebar/js/simplebar.min.js"></script>
  <script src="/panel/assets/plugins/metismenu/js/metisMenu.min.js"></script>
  <script src="/panel/assets/plugins/perfect-scrollbar/js/perfect-scrollbar.js"></script>
  <script src="/panel/assets/js/pace.min.js"></script>
  <script src="/panel/assets/plugins/datatable/js/jquery.dataTables.min.js"></script>
  <script src="/panel/assets/plugins/datatable/js/dataTables.bootstrap5.min.js"></script>
  <script src="/panel/assets/js/table-datatable.js"></script>
	
  <!--app-->
  <script src="/panel/assets/js/app.js"></script>
  
</body>

</html>